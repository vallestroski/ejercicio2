<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Ej 9: Cat Walk</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
   
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
   <div>
    <img
      id="myCat"
      style="position: absolute; left: 0px;"
      src="http://www.anniemation.com/clip_art/images/cat-walk.gif"
    />
  </div>
    <script>
      const myCat = document.getElementById('myCat');
      let cambio=true;
      function catWalk(){

      const distanceWalked=parseInt(myCat.style.left);
      const windowWidth=window.innerWidth;

        // caso base: comentado tras probar que funciona

       /*el gato sale por la derecha y vuelve a entrar
       por la izquierda */

       /*    
       myCat.style.left = parseInt(myCat.style.left) + 10 + "px";
          if(distanceWalked>windowWidth ){
            myCat.style.left ="0px";
          }
        
        */
   
      
      
      /*Caso 2: el gato rebota de un borde a otro*/
      // al llegar al borde se actualiza la variable cambio 
      
      if(distanceWalked>windowWidth - myCat.width ){// restamos el ancho de la imagen para que no salga de pantalla
        cambio=false;// se mueve a la izda
        myCat.style.transform ="scaleX(-1)";
      }else if (distanceWalked<0){
        cambio=true;// se mueve a la derecha
        myCat.style.transform ="scaleX(1)";
      }

      if (cambio){
        myCat.style.left = parseInt(myCat.style.left) + 10 + "px";
      }else{
        myCat.style.left = parseInt(myCat.style.left) - 10 + "px";
      }
     
      }
      
      
      window.setInterval(catWalk,50);
     
    </script>

<div class="container">
  <div class="d-flex justify-content-end my-3 align-items-bottom">
    <a href="../index.html" class="btn btn-outline-dark">Volver</a>
  </div>
</div>
  </body>
</html>
